{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Documents/Git/test-project/frontend/src/components/AuthWindow.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport '../styles/components/AuthWindow.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AuthWindow = () => {\n  _s();\n  const [isLogin, setIsLogin] = useState(true); // Состояние для переключения между авторизацией и регистрацией\n  // Функция для переключения состояния\n  const toggleAuthMode = () => {\n    setIsLogin(!isLogin);\n  };\n\n  // Функция для обработки отправки формы\n  const handleSubmit = event => {\n    event.preventDefault();\n    isLogin ? handleLogin() : handleRegister();\n  };\n  const checkUserExists = async () => {\n    try {\n      let response = await fetch(`/users/${name}`);\n      return response.ok; // true, если пользователь найден\n    } catch (error) {\n      console.error('Ошибка запроса:', error);\n      return false;\n    }\n  };\n  const handleLogin = async () => {\n    try {\n      const response = await fetch('/auth/');\n      const user = await response.json();\n\n      // Проверяем, если в ответе есть поле email\n      if (user && user.email) {\n        // Сохраняем почту пользователя в localStorage\n        localStorage.setItem('userEmail', user.email);\n        console.log('Почта пользователя сохранена:', user.email);\n      } else {\n        console.log('Ошибка: Почта пользователя не найдена в ответе');\n      }\n    } catch (error) {\n      console.error('Ошибка загрузки данных:', error);\n    }\n  };\n  const handleRegister = () => {\n    //запрос для регистрации\n    console.log('Регистрация');\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"reg-form d-flex flex-column align-items-center\",\n      onSubmit: handleSubmit // Обработчик формы\n      ,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"auth-title\",\n        children: isLogin ? 'Вход' : 'Регистрация'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"auth-input\",\n        type: \"email\",\n        placeholder: \"example@email.com\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"auth-input\",\n        type: \"password\",\n        placeholder: \"password\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"auth-with\",\n        children: isLogin ? 'Авторизоваться с помощью' : 'Создать аккаунт с помощью'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-with-icons\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"round-img github\",\n          src: \"/assets/images/github-logo.svg\",\n          alt: \"GitHub\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"round-img google\",\n          src: \"/assets/images/google-logo.svg\",\n          alt: \"Google\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"round-img vk\",\n          src: \"/assets/images/vk-logo.svg\",\n          alt: \"VK\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"round-img yandex\",\n          src: \"/assets/images/yandex-logo.svg\",\n          alt: \"Yandex\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"auth-submit\",\n        type: \"submit\",\n        value: isLogin ? 'Подтвердить' : 'Зарегистрироваться'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"auth-toggle-link\",\n        onClick: toggleAuthMode,\n        children: isLogin ? 'У меня уже есть аккаунт' : 'Создать новый аккаунт'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n};\n_s(AuthWindow, \"juHMKC6x2j1wnRvCiB5VrABnZyE=\");\n_c = AuthWindow;\nexport default AuthWindow;\nvar _c;\n$RefreshReg$(_c, \"AuthWindow\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","AuthWindow","_s","isLogin","setIsLogin","toggleAuthMode","handleSubmit","event","preventDefault","handleLogin","handleRegister","checkUserExists","response","fetch","name","ok","error","console","user","json","email","localStorage","setItem","log","children","className","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","required","src","alt","value","onClick","_c","$RefreshReg$"],"sources":["/Users/admin/Documents/Git/test-project/frontend/src/components/AuthWindow.jsx"],"sourcesContent":["import React, { useState } from 'react'\nimport '../styles/components/AuthWindow.css'\n\nconst AuthWindow = () => {\n\tconst [isLogin, setIsLogin] = useState(true) // Состояние для переключения между авторизацией и регистрацией\n\t// Функция для переключения состояния\n\tconst toggleAuthMode = () => {\n\t\tsetIsLogin(!isLogin)\n\t}\n\n\t// Функция для обработки отправки формы\n\tconst handleSubmit = event => {\n\t\tevent.preventDefault()\n\t\tisLogin ? handleLogin() : handleRegister()\n\t}\n\n\tconst checkUserExists = async () => {\n\t\ttry {\n\t\t\tlet response = await fetch(`/users/${name}`)\n\t\t\treturn response.ok // true, если пользователь найден\n\t\t} catch (error) {\n\t\t\tconsole.error('Ошибка запроса:', error)\n\t\t\treturn false\n\t\t}\n\t}\n\n\tconst handleLogin = async () => {\n\t\ttry {\n\t\t\tconst response = await fetch('/auth/')\n\t\t\tconst user = await response.json()\n\n\t\t\t// Проверяем, если в ответе есть поле email\n\t\t\tif (user && user.email) {\n\t\t\t\t// Сохраняем почту пользователя в localStorage\n\t\t\t\tlocalStorage.setItem('userEmail', user.email)\n\t\t\t\tconsole.log('Почта пользователя сохранена:', user.email)\n\t\t\t} else {\n\t\t\t\tconsole.log('Ошибка: Почта пользователя не найдена в ответе')\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('Ошибка загрузки данных:', error)\n\t\t}\n\t}\n\n\tconst handleRegister = () => {\n\t\t//запрос для регистрации\n\t\tconsole.log('Регистрация')\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<form\n\t\t\t\tclassName='reg-form d-flex flex-column align-items-center'\n\t\t\t\tonSubmit={handleSubmit} // Обработчик формы\n\t\t\t>\n\t\t\t\t<p className='auth-title'>{isLogin ? 'Вход' : 'Регистрация'}</p>\n\t\t\t\t<input\n\t\t\t\t\tclassName='auth-input'\n\t\t\t\t\ttype='email'\n\t\t\t\t\tplaceholder='example@email.com'\n\t\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t\t<input\n\t\t\t\t\tclassName='auth-input'\n\t\t\t\t\ttype='password'\n\t\t\t\t\tplaceholder='password'\n\t\t\t\t\trequired\n\t\t\t\t/>\n\n\t\t\t\t<p className='auth-with'>\n\t\t\t\t\t{isLogin ? 'Авторизоваться с помощью' : 'Создать аккаунт с помощью'}\n\t\t\t\t</p>\n\n\t\t\t\t<div className='auth-with-icons'>\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName='round-img github'\n\t\t\t\t\t\tsrc='/assets/images/github-logo.svg'\n\t\t\t\t\t\talt='GitHub'\n\t\t\t\t\t/>\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName='round-img google'\n\t\t\t\t\t\tsrc='/assets/images/google-logo.svg'\n\t\t\t\t\t\talt='Google'\n\t\t\t\t\t/>\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName='round-img vk'\n\t\t\t\t\t\tsrc='/assets/images/vk-logo.svg'\n\t\t\t\t\t\talt='VK'\n\t\t\t\t\t/>\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName='round-img yandex'\n\t\t\t\t\t\tsrc='/assets/images/yandex-logo.svg'\n\t\t\t\t\t\talt='Yandex'\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<input\n\t\t\t\t\tclassName='auth-submit'\n\t\t\t\t\ttype='submit'\n\t\t\t\t\tvalue={isLogin ? 'Подтвердить' : 'Зарегистрироваться'}\n\t\t\t\t/>\n\t\t\t\t<p className='auth-toggle-link' onClick={toggleAuthMode}>\n\t\t\t\t\t{isLogin ? 'У меня уже есть аккаунт' : 'Создать новый аккаунт'}\n\t\t\t\t</p>\n\t\t\t</form>\n\t\t</>\n\t)\n}\n\nexport default AuthWindow\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}