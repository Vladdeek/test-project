{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Documents/Git/test-project/frontend/src/components/AuthWindow.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport '../styles/components/AuthWindow.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AuthWindow = () => {\n  _s();\n  const [isLogin, setIsLogin] = useState(true); // Состояние для переключения между авторизацией и регистрацией\n  // Функция для переключения состояния\n  const toggleAuthMode = () => {\n    setIsLogin(!isLogin);\n  };\n\n  // Функция для обработки отправки формы\n  const handleSubmit = event => {\n    event.preventDefault();\n    isLogin ? handleLogin() : handleRegister();\n  };\n  const handleLogin = async () => {\n    try {\n      const response = await fetch('/auth/');\n      const user = await response.json();\n\n      // Проверяем, если в ответе есть поле email\n      if (user && user.email) {\n        // Сохраняем почту пользователя в localStorage\n        localStorage.setItem('userEmail', user.email);\n        console.log('Почта пользователя сохранена:', user.email);\n      } else {\n        console.log('Ошибка: Почта пользователя не найдена в ответе');\n      }\n\n      // Если нужно, обработать другие данные, например, задачи\n      setUser(user.map(todo => ({\n        taskText: todo.title,\n        id: todo.id\n      })));\n    } catch (error) {\n      console.error('Ошибка загрузки данных:', error);\n    }\n  };\n  const handleRegister = () => {\n    //запрос для регистрации\n    console.log('Регистрация');\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"reg-form d-flex flex-column align-items-center\",\n      onSubmit: handleSubmit // Обработчик формы\n      ,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"auth-title\",\n        children: isLogin ? 'Вход' : 'Регистрация'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"auth-input\",\n        type: \"email\",\n        placeholder: \"example@email.com\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"auth-input\",\n        type: \"password\",\n        placeholder: \"password\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"auth-with\",\n        children: isLogin ? 'Авторизоваться с помощью' : 'Создать аккаунт с помощью'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-with-icons\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"round-img github\",\n          src: \"/assets/images/github-logo.svg\",\n          alt: \"GitHub\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"round-img google\",\n          src: \"/assets/images/google-logo.svg\",\n          alt: \"Google\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"round-img vk\",\n          src: \"/assets/images/vk-logo.svg\",\n          alt: \"VK\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"round-img yandex\",\n          src: \"/assets/images/yandex-logo.svg\",\n          alt: \"Yandex\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"auth-submit\",\n        type: \"submit\",\n        value: isLogin ? 'Подтвердить' : 'Зарегистрироваться'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"auth-toggle-link\",\n        onClick: toggleAuthMode,\n        children: isLogin ? 'У меня уже есть аккаунт' : 'Создать новый аккаунт'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n};\n_s(AuthWindow, \"juHMKC6x2j1wnRvCiB5VrABnZyE=\");\n_c = AuthWindow;\nexport default AuthWindow;\nvar _c;\n$RefreshReg$(_c, \"AuthWindow\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","AuthWindow","_s","isLogin","setIsLogin","toggleAuthMode","handleSubmit","event","preventDefault","handleLogin","handleRegister","response","fetch","user","json","email","localStorage","setItem","console","log","setUser","map","todo","taskText","title","id","error","children","className","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","required","src","alt","value","onClick","_c","$RefreshReg$"],"sources":["/Users/admin/Documents/Git/test-project/frontend/src/components/AuthWindow.jsx"],"sourcesContent":["import React, { useState } from 'react'\nimport '../styles/components/AuthWindow.css'\n\nconst AuthWindow = () => {\n\tconst [isLogin, setIsLogin] = useState(true) // Состояние для переключения между авторизацией и регистрацией\n\t// Функция для переключения состояния\n\tconst toggleAuthMode = () => {\n\t\tsetIsLogin(!isLogin)\n\t}\n\n\t// Функция для обработки отправки формы\n\tconst handleSubmit = event => {\n\t\tevent.preventDefault()\n\t\tisLogin ? handleLogin() : handleRegister()\n\t}\n\n\tconst handleLogin = async () => {\n\t\ttry {\n\t\t\tconst response = await fetch('/auth/')\n\t\t\tconst user = await response.json()\n\n\t\t\t// Проверяем, если в ответе есть поле email\n\t\t\tif (user && user.email) {\n\t\t\t\t// Сохраняем почту пользователя в localStorage\n\t\t\t\tlocalStorage.setItem('userEmail', user.email)\n\t\t\t\tconsole.log('Почта пользователя сохранена:', user.email)\n\t\t\t} else {\n\t\t\t\tconsole.log('Ошибка: Почта пользователя не найдена в ответе')\n\t\t\t}\n\n\t\t\t// Если нужно, обработать другие данные, например, задачи\n\t\t\tsetUser(\n\t\t\t\tuser.map(todo => ({\n\t\t\t\t\ttaskText: todo.title,\n\t\t\t\t\tid: todo.id,\n\t\t\t\t}))\n\t\t\t)\n\t\t} catch (error) {\n\t\t\tconsole.error('Ошибка загрузки данных:', error)\n\t\t}\n\t}\n\n\tconst handleRegister = () => {\n\t\t//запрос для регистрации\n\t\tconsole.log('Регистрация')\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<form\n\t\t\t\tclassName='reg-form d-flex flex-column align-items-center'\n\t\t\t\tonSubmit={handleSubmit} // Обработчик формы\n\t\t\t>\n\t\t\t\t<p className='auth-title'>{isLogin ? 'Вход' : 'Регистрация'}</p>\n\t\t\t\t<input\n\t\t\t\t\tclassName='auth-input'\n\t\t\t\t\ttype='email'\n\t\t\t\t\tplaceholder='example@email.com'\n\t\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t\t<input\n\t\t\t\t\tclassName='auth-input'\n\t\t\t\t\ttype='password'\n\t\t\t\t\tplaceholder='password'\n\t\t\t\t\trequired\n\t\t\t\t/>\n\n\t\t\t\t<p className='auth-with'>\n\t\t\t\t\t{isLogin ? 'Авторизоваться с помощью' : 'Создать аккаунт с помощью'}\n\t\t\t\t</p>\n\n\t\t\t\t<div className='auth-with-icons'>\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName='round-img github'\n\t\t\t\t\t\tsrc='/assets/images/github-logo.svg'\n\t\t\t\t\t\talt='GitHub'\n\t\t\t\t\t/>\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName='round-img google'\n\t\t\t\t\t\tsrc='/assets/images/google-logo.svg'\n\t\t\t\t\t\talt='Google'\n\t\t\t\t\t/>\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName='round-img vk'\n\t\t\t\t\t\tsrc='/assets/images/vk-logo.svg'\n\t\t\t\t\t\talt='VK'\n\t\t\t\t\t/>\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName='round-img yandex'\n\t\t\t\t\t\tsrc='/assets/images/yandex-logo.svg'\n\t\t\t\t\t\talt='Yandex'\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<input\n\t\t\t\t\tclassName='auth-submit'\n\t\t\t\t\ttype='submit'\n\t\t\t\t\tvalue={isLogin ? 'Подтвердить' : 'Зарегистрироваться'}\n\t\t\t\t/>\n\t\t\t\t<p className='auth-toggle-link' onClick={toggleAuthMode}>\n\t\t\t\t\t{isLogin ? 'У меня уже есть аккаунт' : 'Создать новый аккаунт'}\n\t\t\t\t</p>\n\t\t\t</form>\n\t\t</>\n\t)\n}\n\nexport default AuthWindow\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAO,qCAAqC;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE5C,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC,EAAC;EAC7C;EACA,MAAMS,cAAc,GAAGA,CAAA,KAAM;IAC5BD,UAAU,CAAC,CAACD,OAAO,CAAC;EACrB,CAAC;;EAED;EACA,MAAMG,YAAY,GAAGC,KAAK,IAAI;IAC7BA,KAAK,CAACC,cAAc,CAAC,CAAC;IACtBL,OAAO,GAAGM,WAAW,CAAC,CAAC,GAAGC,cAAc,CAAC,CAAC;EAC3C,CAAC;EAED,MAAMD,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACH,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAAC,QAAQ,CAAC;MACtC,MAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;;MAElC;MACA,IAAID,IAAI,IAAIA,IAAI,CAACE,KAAK,EAAE;QACvB;QACAC,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEJ,IAAI,CAACE,KAAK,CAAC;QAC7CG,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAEN,IAAI,CAACE,KAAK,CAAC;MACzD,CAAC,MAAM;QACNG,OAAO,CAACC,GAAG,CAAC,gDAAgD,CAAC;MAC9D;;MAEA;MACAC,OAAO,CACNP,IAAI,CAACQ,GAAG,CAACC,IAAI,KAAK;QACjBC,QAAQ,EAAED,IAAI,CAACE,KAAK;QACpBC,EAAE,EAAEH,IAAI,CAACG;MACV,CAAC,CAAC,CACH,CAAC;IACF,CAAC,CAAC,OAAOC,KAAK,EAAE;MACfR,OAAO,CAACQ,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IAChD;EACD,CAAC;EAED,MAAMhB,cAAc,GAAGA,CAAA,KAAM;IAC5B;IACAQ,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;EAC3B,CAAC;EAED,oBACCrB,OAAA,CAAAE,SAAA;IAAA2B,QAAA,eACC7B,OAAA;MACC8B,SAAS,EAAC,gDAAgD;MAC1DC,QAAQ,EAAEvB,YAAa,CAAC;MAAA;MAAAqB,QAAA,gBAExB7B,OAAA;QAAG8B,SAAS,EAAC,YAAY;QAAAD,QAAA,EAAExB,OAAO,GAAG,MAAM,GAAG;MAAa;QAAA2B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAChEnC,OAAA;QACC8B,SAAS,EAAC,YAAY;QACtBM,IAAI,EAAC,OAAO;QACZC,WAAW,EAAC,mBAAmB;QAC/BC,QAAQ;MAAA;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR,CAAC,eACFnC,OAAA;QACC8B,SAAS,EAAC,YAAY;QACtBM,IAAI,EAAC,UAAU;QACfC,WAAW,EAAC,UAAU;QACtBC,QAAQ;MAAA;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR,CAAC,eAEFnC,OAAA;QAAG8B,SAAS,EAAC,WAAW;QAAAD,QAAA,EACtBxB,OAAO,GAAG,0BAA0B,GAAG;MAA2B;QAAA2B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjE,CAAC,eAEJnC,OAAA;QAAK8B,SAAS,EAAC,iBAAiB;QAAAD,QAAA,gBAC/B7B,OAAA;UACC8B,SAAS,EAAC,kBAAkB;UAC5BS,GAAG,EAAC,gCAAgC;UACpCC,GAAG,EAAC;QAAQ;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACZ,CAAC,eACFnC,OAAA;UACC8B,SAAS,EAAC,kBAAkB;UAC5BS,GAAG,EAAC,gCAAgC;UACpCC,GAAG,EAAC;QAAQ;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACZ,CAAC,eACFnC,OAAA;UACC8B,SAAS,EAAC,cAAc;UACxBS,GAAG,EAAC,4BAA4B;UAChCC,GAAG,EAAC;QAAI;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR,CAAC,eACFnC,OAAA;UACC8B,SAAS,EAAC,kBAAkB;UAC5BS,GAAG,EAAC,gCAAgC;UACpCC,GAAG,EAAC;QAAQ;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACZ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eACNnC,OAAA;QACC8B,SAAS,EAAC,aAAa;QACvBM,IAAI,EAAC,QAAQ;QACbK,KAAK,EAAEpC,OAAO,GAAG,aAAa,GAAG;MAAqB;QAAA2B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtD,CAAC,eACFnC,OAAA;QAAG8B,SAAS,EAAC,kBAAkB;QAACY,OAAO,EAAEnC,cAAe;QAAAsB,QAAA,EACtDxB,OAAO,GAAG,yBAAyB,GAAG;MAAuB;QAAA2B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5D,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC;EAAC,gBACN,CAAC;AAEL,CAAC;AAAA/B,EAAA,CArGKD,UAAU;AAAAwC,EAAA,GAAVxC,UAAU;AAuGhB,eAAeA,UAAU;AAAA,IAAAwC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}